<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
				template="template.xhtml">

<!-- content -->
<ui:define name="content">
<div class="section">
	<h1>Change Your Password</h1>
</div>
<div class="section">
	<h:form id="setpassword">
	
	    <f:facet id="AroundInvalidFieldFacet" name="aroundInvalidField">
            <s:span id="ErrorsSpan" styleClass="errors"/>
	    </f:facet>
 	    <f:facet id="AfterInvalidFieldFacet" name="afterInvalidField">
            <s:div styleClass="errors">
                <s:message id="Message"/>
            </s:div>
 	    </f:facet>
		    
		<fieldset>
		
			<div class="entry">
				<div class="label"><h:outputLabel id="PasswordLabel" for="password">Password:</h:outputLabel></div>
				<div class="input">
					<s:decorate id="PasswordDecorate">
						<h:inputSecret id="password" value="#{user.password}" required="true">
							<s:validate/>
						</h:inputSecret>
					</s:decorate>
				</div>
			</div>
			
			<div class="entry">
				<div class="label"><h:outputLabel id="VerifyLabel" for="verify">Verify:</h:outputLabel></div>
				<div class="input">
					<s:decorate id="VerifyDecorate">
						<h:inputSecret id="verify" value="#{changePassword.verify}" required="true"/>
					</s:decorate>
				</div>
			</div>
			
			<div class="entry errors">
				<h:messages id="messages" globalOnly="true"/>
			</div>
			
			<div class="entry">
				<div class="label">&#160;</div>
				<div class="input">
					<h:commandButton id="change" value="Change" action="#{changePassword.changePassword}"/>&#160;
					<s:button id="cancel" value="Cancel" view="/main.xhtml"/>
				</div>
			</div>
			
		</fieldset>
		
	</h:form>
</div>
</ui:define>

<!-- sidebar -->
<ui:define name="sidebar">
<h1>Simple things should be easy</h1>
<p>
    (And so should some complex things.) You shouldn't have to write four different classes
    just to change a password. Traditional J2EE architectures require that developers spend
    more time writing code to make the frameworks happy, than they ever get to spend writing
    code to make the user happy. Seam lets you reduce the size of your code dramatically.
    And that reduces bugs. And it makes refactoring easier. And it makes delivering new 
    functionality quicker. Productivity matters. But with Seam, JSF, EJB 3.0 and jBPM, you 
    don't need to sacrifice the ability to handle complex problems just to achieve great
    productivity.
</p>
</ui:define>

</ui:composition>